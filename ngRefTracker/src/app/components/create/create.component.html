<app-navi [chosenPalette]="this.chosenPalette"></app-navi>
<div class="container-fluid">
  <div class="row">
    <div [ngClass]="'col-3 col-xl-2 d-none d-md-block sidebar sidebar-palette' + this.chosenPalette">
      <app-sidebar [chosenPalette]="this.chosenPalette"></app-sidebar>
    </div>
    <div class="col-md-6">
      <h4 [ngClass]="'my-3 page-header header-palette' + this.chosenPalette"><span [ngClass]="'header-highlighter-palette' + this.chosenPalette">&nbsp;</span>&nbsp;Create New Article</h4>
      <form #createForm>
        <!-- Title -->
        <div class="form-group">
          <label for="title"><h5 [ngClass]="'header-palette' + this.chosenPalette">Title:</h5></label>
          <textarea class="form-control" name="title" id="title"></textarea>
        </div>
        <hr />
        <!-- Authors -->
        <h5 [ngClass]="'header-palette' + this.chosenPalette">Authors:</h5>
        <div *ngIf="this.authorsList.length === 0">
          <h6 [ngClass]="'header-palette' + this.chosenPalette">(Please enter one or more authors)</h6>
        </div>
        <div *ngIf="this.authorsList.length !== 0">
          <table>
            <tr *ngFor="let a of authorsList">
              <td>
                <button
                  [ngClass]="'btn btn-sm mr-3 btn-custom-danger' + this.chosenPalette"
                  (click)="removeAuthor(a)"
                >
                  Remove
                </button>
              </td>

              <td>
                {{ a.firstName }} {{ a.middleName }} {{ a.lastName }}
                {{ a.suffix }}
              </td>
            </tr>
          </table>
        </div>

        <div class="form-group mt-3">
          <label for="authorFirstName">First name: </label>
          <input
            type="text"
            [(ngModel)]="newAuthor.firstName"
            class="form-control"
            id="fname"
            name="fname"
          />
        </div>
        <div class="form-group">
          <label for="authorMiddleName">Middle name: </label>
          <input
            type="text"
            [(ngModel)]="newAuthor.middleName"
            class="form-control"
            id="mid"
            name="mid"
          />
        </div>
        <div class="form-group">
          <label for="authorLastName">Last name: </label>
          <input
            type="text"
            [(ngModel)]="newAuthor.lastName"
            class="form-control"
            id="lname"
            name="lname"
          />
        </div>
        <div class="form-group">
          <label for="authorSuffix">Suffix: </label>
          <input
            type="text"
            [(ngModel)]="newAuthor.suffix"
            class="form-control"
            id="suffix"
            name="suffix"
          />
        </div>
        <div class="form-group">
          <button (click)="addAuthor()" [ngClass]="'btn btn-sm btn-custom-secondary' + this.chosenPalette">
            Add Author
          </button>
        </div>
        <hr />
        <!-- Journal Dropdown Menu -->
        <div class="form-group">
          <h5 [ngClass]="'header-palette' + this.chosenPalette">Journal:</h5>
          <select
            class="form-control mb-3"
            [(ngModel)]="newJournal"
            name="newJournal"
          >
            <option value="" selected></option>
            <option *ngFor="let j of journals" [ngValue]="j">
              {{ j.name }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="volumeNum"><h5 [ngClass]="'header-palette' + this.chosenPalette">Volume:</h5></label>
          <input type="text" class="form-control" id="vol" name="vol" />
        </div>
        <div class="form-group">
          <label for="year"><h5 [ngClass]="'header-palette' + this.chosenPalette">Year:</h5></label>
          <input type="text" class="form-control" id="year" name="year" />
        </div>
        <div class="form-group">
          <label for="doi"><h5 [ngClass]="'header-palette' + this.chosenPalette">DOI:</h5></label>
          <input type="text" class="form-control" id="doi" name="doi" />
        </div>
        <button
          type="submit"
          [ngClass]="'btn mt-3 mb-3 btn-full-width btn-custom-primary' + this.chosenPalette"
          (click)="create(createForm)"
        >
          Submit
        </button>
      </form>
    </div>
  </div>
</div>
